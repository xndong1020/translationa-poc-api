# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Project {
  id: Float!
  createdAt: DateTime
  updatedAt: DateTime
  name: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type User {
  id: Float!
  createdAt: DateTime
  updatedAt: DateTime
  email: String!
  password: String!
  role: UserRole!
}

enum UserRole {
  Owner
  Admin
  Translator
}

type Translation {
  id: Float!
  createdAt: DateTime
  updatedAt: DateTime
  keyName: String!
  task: Task!
  hasComplete: Boolean
}

type Task {
  id: Float!
  createdAt: DateTime
  updatedAt: DateTime
  name: String!
  savedOn: DateTime!
  status: TaskStatus!
  updatedBy: String
  translationItems: [Translation!]!
  assignees: [Assignee!]!
  hasCompleted: Boolean
  totalKeysCount: Int
  pendingKeysCount: Int
}

enum TaskStatus {
  Pending
  Locked
  Proofreaded
  Released
}

type Assignee {
  id: Float!
  createdAt: DateTime
  updatedAt: DateTime
  user: User!
  assignedLanguage: String!
  task: Task!
}

type GetAllTranslationResponse {
  key: String!
  en: String!
  fr: String!
  zh: String!
  ar: String!
  pt: String!
  es: String!
  ko: String!
}

type CreateNewTaskResponse {
  error: String
  ok: Boolean!
}

type TranslationTaskResponse {
  languageId: Int!
  keyName: String!
  assignedLanguageName: String!
  assignedLanguageValue: String!
  en: String!
}

type UpdateTranslationLanguageResponse {
  error: String
  ok: Boolean!
}

type ActionTaskResponse {
  error: String
  ok: Boolean!
}

type TranslationResponse {
  en: String!
  fr: String!
  zh: String!
  es: String!
  pt: String!
  ko: String!
  ar: String!
}

type TranslationSearchResponse {
  keyName: String!
  description: String!
  translation: TranslationResponse!
}

type LoginUserResponse {
  error: String
  ok: Boolean!
  token: String
}

type CreateUserResponse {
  error: String
  ok: Boolean!
}

type ServerMessage {
  functionName: String!
  payload: String!
}

type Query {
  getProjects: [Project!]
  findProjectById(id: Float!): Project
  getAllTranslations: [GetAllTranslationResponse!]
  getTasks: [Task!]
  getMyTaskLanguage(taskId: Float!): String
  getTranslationLanguage(input: GetTranslationLanguageInput!): [TranslationTaskResponse!]
  search(translationSearchInput: TranslationSearchInput!): [TranslationSearchResponse!]
  getUsers: [User!]!
  me: User!
}

input GetTranslationLanguageInput {
  taskId: Int!
  myTaskLanguage: String
}

input TranslationSearchInput {
  queryText: String!
  fuzzy: Boolean
}

type Mutation {
  createTask(createTaskDto: CreateTaskInput!): Int
  createNewTask(createNewTaskDto: CreateNewTaskInput!): CreateNewTaskResponse!
  updateTranslationLanguage(updateTranslationLanguageInput: UpdateTranslationLanguageInput!): UpdateTranslationLanguageResponse!
  actionOnTask(actionTaskInput: ActionTaskInput!): ActionTaskResponse!
  createUser(newUser: CreateUserDto!): CreateUserResponse!
  loginUser(loginUser: LoginUserDto!): LoginUserResponse!
}

input CreateTaskInput {
  name: String!
}

input CreateNewTaskInput {
  taskName: String!
  translationItems: [TranslationKey!]!
  assignees: [Assignees!]!
}

input TranslationKey {
  keyName: String!
  keyValue: String!
}

input Assignees {
  language: String!
  email: String!
}

input UpdateTranslationLanguageInput {
  id: Float
  en: String
  fr: String
  zh: String
  pt: String
  es: String
  ar: String
  ko: String
  hasComplete: Boolean
}

input ActionTaskInput {
  taskId: Float!
  action: TaskActions!
}

enum TaskActions {
  Create
  ToggleLock
  Proofread
  Release
}

input CreateUserDto {
  email: String!
  password: String!
  role: UserRole!
}

input LoginUserDto {
  email: String!
  password: String!
}

type Subscription {
  messageFeed: ServerMessage
}
